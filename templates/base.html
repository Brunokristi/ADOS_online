<!-- templates/base.html -->
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>{% block title %}My App{% endblock %}</title>
    <link rel="icon" href="{{ url_for('static', filename='favicon.ico') }}" type="image/x-icon">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/global.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/navbar.css') }}">
    {% block styles %}{% endblock %}

    <script src="{{ url_for('static', filename='js/navbar.js') }}"></script>

    <link rel="stylesheet" href="{{ url_for('static', filename='css/documents/main.css') }}">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto:wght@200;300;400;500;700&display=swap">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.4.1/font/bootstrap-icons.css">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
    <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>

</head>

<body>
    <header>
        <div class="navbar no-print">
            <div class="navbar-section">

                <a href="{{ url_for('auth.logout') }}" class="navbar-button" style="background-color: #5C9EAD; margin-right: 20px;">
                    <i style="color: #fff;" class="bi bi-flower2"></i>
                </a>
                
                <a href="#" class="navbar-button" id="backBtn">
                    <i style="color: #333;" class="bi bi-arrow-left"></i>            
                </a>

                
                {% if current_user.is_authenticated %}
                    {% if session.get('nurse')%}
                        <a href="{{ url_for('main.dashboard') }}" class="navbar-button" target="_blank" id="newTab">
                            <i style="color: #333;" class="bi bi-plus"></i>
                        </a>
    
                        <a class="navbar-button" href="{{ url_for('main.settings') }}">
                            <i style="color: #333;" class="bi bi-gear"></i>
                        </a>

                        <a class="navbar-button" href="{{ url_for('patient.list_patients') }}">
                            <i style="color: #333;" class="bi bi-people"></i>
                        </a>

                        <a class="navbar-button" href="{{ url_for('main.dashboard') }}">
                            <i style="color: #333;" class="bi bi-box"></i>
                        </a>
                    {% endif %}
                {% endif %}

            </div>

            <div class="navbar-section">
                <p id="message"></p>
            </div>

            <div class="navbar-section">
                {% if current_user.is_authenticated %}
                    {% if session.get('nurse')%}
                        <a href="{{ url_for('nurse.update_nurse', id=session['nurse']['id']) }}" class="logo">
                            <h3 style="margin-right: 20px">{{ session['nurse']['meno'] }}</h3>
                        </a>

                        <a href="{{ url_for('main.index') }}" class="navbar-button" id="switch">
                            <i style="color: #333;" class="bi bi-arrow-repeat"></i>    
                        </a>
                    {% endif %}

                    <a class="navbar-button" href="{{ url_for('auth.logout') }}"><i style="color: #333;" class="bi bi-box-arrow-right"></i></a>
                {% endif %}
            </div>
        </div>
    </header>

    <!-- generating path for keyboard shortcuts -->
    <!-- // Ctrl Z - back button
    // Ctrl D - domov (dashboard/
    // CTRL A - Ados
    // f1 - sestra
    // f2 - pacient
    // f3 - nastavenia
    // f4 - odhlasit sa -->
    <script>
        const dashboardUrl = "{{ url_for('main.dashboard') }}";
        const adosUrl = "{{ url_for('main.index') }}";
        const patientUrl = "{{ url_for('patient.list_patients') }}";
        const settingsUrl = "{{ url_for('main.settings') }}";
        const logoutUrl = "{{ url_for('auth.logout') }}";

        {% if 'nurse' in session %}
            const nurseUrl = "{{ url_for('nurse.update_nurse', id=session['nurse']['id']) }}";
        {% else %}
            const nurseUrl = "";
        {% endif %}
    </script>

    <main>
        {% block content %}{% endblock %}
    </main>

    {% block scripts %}{% endblock %}

</body>

</html>
